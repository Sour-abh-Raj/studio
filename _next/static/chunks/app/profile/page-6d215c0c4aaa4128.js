(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>s,t:()=>n});var a=r(12115);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,a=e.map(e=>{let a=l(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():l(e[t],null)}}}}function s(...e){return a.useCallback(n(...e),e)}},33246:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(95155),l=r(27600),n=r(91394),s=r(66695),i=r(12115),o=r(67039),c=r(35317),d=r(78816),u=r(83013),f=r(83540),m=r(3401),p=r(94754),h=r(96025),x=r(16238),y=r(94517),v=r(24026),j=r(83394),N=r(81499);let g={completed:{label:"Tasks Done",color:"hsl(var(--chart-4))"}};function w(){let{user:e,loading:t}=(0,l.A)(),[r,w]=(0,i.useState)([]),[b,C]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{e&&e.uid&&(async()=>{C(!0);let t=new Date,r=[];for(let a=6;a>=0;a--){let l=(0,d.e)(t,a),n=(0,u.GP)(l,"yyyy-MM-dd"),s=(0,c.rJ)(o.db,"users/".concat(e.uid,"/tasks")),i=(0,c.P)(s,(0,c._M)("date","==",n)),f=await (0,c.GG)(i),m=0,p=f.size;f.forEach(e=>{"done"===e.data().status&&m++}),r.push({date:(0,u.GP)(l,"MMM d"),completed:m,total:p,percentage:p>0?Math.round(m/p*100):0})}w(r),C(!1)})()},[e]),t)?(0,a.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:(0,a.jsx)("p",{children:"Loading profile..."})}):e?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Your Profile"}),(0,a.jsx)(s.Zp,{className:"shadow-lg",children:(0,a.jsxs)(s.aR,{className:"flex flex-row items-center gap-4",children:[(0,a.jsxs)(n.eu,{className:"h-20 w-20",children:[(0,a.jsx)(n.BK,{src:e.photoURL||void 0,alt:e.displayName||"User"}),(0,a.jsx)(n.q5,{className:"text-3xl",children:e.displayName?e.displayName.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(s.ZB,{className:"text-2xl",children:e.displayName||"User"}),(0,a.jsx)(s.BT,{className:"text-md",children:e.email})]})]})}),(0,a.jsxs)(s.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(s.aR,{children:[(0,a.jsx)(s.ZB,{className:"text-xl font-headline",children:"Task Completion Analytics (Last 7 Days)"}),(0,a.jsx)(s.BT,{children:"Overview of your tasks marked as 'done'."})]}),(0,a.jsx)(s.Wu,{children:b?(0,a.jsx)("p",{children:"Loading analytics..."}):r.length>0?(0,a.jsx)(N.at,{config:g,className:"min-h-[200px] w-full",children:(0,a.jsx)(f.u,{width:"100%",height:300,children:(0,a.jsxs)(m.E,{data:r,margin:{top:5,right:20,left:-20,bottom:5},children:[(0,a.jsx)(p.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(h.W,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8}),(0,a.jsx)(x.h,{allowDecimals:!1,tickLine:!1,axisLine:!1,tickMargin:8}),(0,a.jsx)(y.m,{cursor:{fill:"hsl(var(--muted))"},content:(0,a.jsx)(N.Nt,{indicator:"dot"})}),(0,a.jsx)(v.s,{}),(0,a.jsx)(j.y,{dataKey:"completed",fill:"var(--color-completed)",radius:4})]})})}):(0,a.jsx)("p",{children:"No task data available for the last 7 days."})})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:(0,a.jsx)("p",{children:"Please log in to view your profile."})})}},39033:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var a=r(12115);function l(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}},46081:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,q:()=>n});var a=r(12115),l=r(95155);function n(e,t){let r=a.createContext(t),n=e=>{let{children:t,...n}=e,s=a.useMemo(()=>n,Object.values(n));return(0,l.jsx)(r.Provider,{value:s,children:t})};return n.displayName=e+"Provider",[n,function(l){let n=a.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${l}\` must be used within \`${e}\``)}]}function s(e,t=[]){let r=[],n=()=>{let t=r.map(e=>a.createContext(e));return function(r){let l=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:l}}),[r,l])}};return n.scopeName=e,[function(t,n){let s=a.createContext(n),i=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,c=r?.[e]?.[i]||s,d=a.useMemo(()=>o,Object.values(o));return(0,l.jsx)(c.Provider,{value:d,children:n})};return o.displayName=t+"Provider",[o,function(r,l){let o=l?.[e]?.[i]||s,c=a.useContext(o);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let l=r.reduce((t,{useScope:r,scopeName:a})=>{let l=r(e)[`__scope${a}`];return{...t,...l}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}(n,...t)]}},52712:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var a=r(12115),l=globalThis?.document?a.useLayoutEffect:()=>{}},63655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>o,sG:()=>i});var a=r(12115),l=r(47650),n=r(99708),s=r(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...l}=e,i=a?n.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...l,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&l.flushSync(()=>e.dispatchEvent(t))}},85977:(e,t,r)=>{"use strict";r.d(t,{H4:()=>g,_V:()=>N,bL:()=>j});var a=r(12115),l=r(46081),n=r(39033),s=r(52712),i=r(63655),o=r(95155),c="Avatar",[d,u]=(0,l.A)(c),[f,m]=d(c),p=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...l}=e,[n,s]=a.useState("idle");return(0,o.jsx)(f,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:(0,o.jsx)(i.sG.span,{...l,ref:t})})});p.displayName=c;var h="AvatarImage",x=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:l,onLoadingStatusChange:c=()=>{},...d}=e,u=m(h,r),f=function(e,t){let[r,l]=a.useState("idle");return(0,s.N)(()=>{if(!e)return void l("error");let r=!0,a=new window.Image,n=e=>()=>{r&&l(e)};return l("loading"),a.onload=n("loaded"),a.onerror=n("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(l,d.referrerPolicy),p=(0,n.c)(e=>{c(e),u.onImageLoadingStatusChange(e)});return(0,s.N)(()=>{"idle"!==f&&p(f)},[f,p]),"loaded"===f?(0,o.jsx)(i.sG.img,{...d,ref:t,src:l}):null});x.displayName=h;var y="AvatarFallback",v=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:l,...n}=e,s=m(y,r),[c,d]=a.useState(void 0===l);return a.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(e)}},[l]),c&&"loaded"!==s.imageLoadingStatus?(0,o.jsx)(i.sG.span,{...n,ref:t}):null});v.displayName=y;var j=p,N=x,g=v},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>o,eu:()=>i,q5:()=>c});var a=r(95155),l=r(12115),n=r(85977),s=r(59434);let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,s.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...l})});i.displayName=n.bL.displayName;let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(n._V,{ref:t,className:(0,s.cn)("aspect-square h-full w-full",r),...l})});o.displayName=n._V.displayName;let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(n.H4,{ref:t,className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...l})});c.displayName=n.H4.displayName},94804:(e,t,r)=>{Promise.resolve().then(r.bind(r,33246))},99708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>s});var a=r(12115),l=r(6101),n=r(95155),s=a.forwardRef((e,t)=>{let{children:r,...l}=e,s=a.Children.toArray(r),o=s.find(c);if(o){let e=o.props.children,r=s.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(i,{...l,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,n.jsx)(i,{...l,ref:t,children:r})});s.displayName="Slot";var i=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),s=function(e,t){let r={...t};for(let a in t){let l=e[a],n=t[a];/^on[A-Z]/.test(a)?l&&n?r[a]=(...e)=>{n(...e),l(...e)}:l&&(r[a]=l):"style"===a?r[a]={...l,...n}:"className"===a&&(r[a]=[l,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(s.ref=t?(0,l.t)(t,e):e),a.cloneElement(r,s)}return a.Children.count(r)>1?a.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function c(e){return a.isValidElement(e)&&e.type===o}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,396,244,197,732,441,684,358],()=>t(94804)),_N_E=e.O()}]);